(this["webpackJsonpsocial-media"]=this["webpackJsonpsocial-media"]||[]).push([[0],{142:function(e,t,n){},19:function(e,t,n){e.exports={sitebar:"sitebar_sitebar__2izHV",item:"sitebar_item__1o1iI",active:"sitebar_active__mSPb_",menu:"sitebar_menu__1iylt"}},23:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map((function(e){return e?" ".concat(e):""})).join("").trim();return r}n.d(t,"a",(function(){return r}))},277:function(e,t,n){"use strict";n.r(t);n(85);var r=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,283)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},a=n(0),c=n.n(a),s=n(28),i=n.n(s),o=n(2),u=n(11),l=n(12),b=n(20),d=n(21),j=n(10),f={id:null,login:null,email:null,isAuth:!1,errorMessage:!1,captchaUrl:null},p="social-network/auth/SET_USER_DATA",O="social-network/auth/SET_CAPTCHA_URL",m="social-network/auth/SET_ERROR",h="social-network/auth/GET_LOGIN_DATA",x="social-network/auth/LOGOUT_REQUEST",v="social-network/auth/GET_CAPTCHA_URL",_={getLoginData:function(e,t,n,r){return{type:h,email:e,password:t,rememberMe:n,captcha:r}},logoutRequest:function(){return{type:x}},getCaptchaUrl:function(){return{type:v}},setAuthUserData:function(e,t,n,r){return{type:p,data:{id:e,login:t,email:n,isAuth:r}}},setCaptchaUrl:function(e){return{type:O,captchaUrl:e}},stopSubmit:function(e){return{type:m,errorMessage:e}}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(o.a)(Object(o.a)({},e),t.data);case O:return Object(o.a)(Object(o.a)({},e),{},{captchaUrl:t.captchaUrl});case m:return Object(o.a)(Object(o.a)({},e),{},{errorMessage:t.errorMessage});default:return e}},w=n(22),S=n(45),E=n.n(S),k=n(1),N=function(e){return Object(k.jsx)("header",{className:E.a.header,children:Object(k.jsxs)("div",{className:E.a.wrapper,children:[Object(k.jsx)("div",{className:E.a.header__title,children:"Social Media App"}),Object(k.jsx)("div",{className:E.a["login-block"],children:e.isAuth?Object(k.jsxs)("div",{className:"flex _direction-column _align-items-center gap-5",children:[Object(k.jsx)("div",{children:e.login}),Object(k.jsx)("button",{className:E.a["header__logout-button"],onClick:e.logout,children:"Logout"})]}):Object(k.jsx)(w.b,{to:"/login",children:Object(k.jsx)("div",{className:E.a["header__login-button"],children:"Login"})})})]})})},C=function(e){Object(b.a)(n,e);var t=Object(d.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(k.jsx)(N,Object(o.a)({},this.props))}}]),n}(c.a.Component),y=Object(j.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{logout:_.logoutRequest})(C),P=n(19),T=n.n(P),U=function(){return Object(k.jsx)("nav",{className:T.a.sitebar,children:Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{activeClassName:T.a["active-item"],children:Object(k.jsx)(w.b,{className:T.a.item,activeClassName:T.a.active,to:"/profile",children:"Profile"})}),Object(k.jsx)("li",{activeClassName:T.a["active-item"],children:Object(k.jsx)(w.b,{className:T.a.item,activeClassName:T.a.active,to:"/users",children:"Users"})}),Object(k.jsx)("li",{activeClassName:T.a["active-item"],children:Object(k.jsx)(w.b,{className:T.a.item,activeClassName:T.a.active,to:"/chat",children:"Chat"})}),Object(k.jsx)("li",{activeClassName:T.a["active-item"],children:Object(k.jsx)(w.b,{className:T.a.item,to:"/",children:"News"})}),Object(k.jsx)("li",{activeClassName:T.a["active-item"],children:Object(k.jsx)(w.b,{className:T.a.item,to:"/",children:"Music"})}),Object(k.jsx)("li",{activeClassName:T.a["active-item"],children:Object(k.jsx)(w.b,{className:T.a.item,to:"/",children:"Settings"})})]})})},I=n(83),R=n.n(I),A=(n(142),n(46)),L={initialized:!1},F="social-network/app/INITIALIZED_SUCCESS",D="social-network/app/INITIALIZE_APP",M=function(){return{type:D}},z=function(){return{type:F}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(o.a)(Object(o.a)({},e),{},{initialized:!0});default:return e}},V=n(131),B=Object(V.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),q=function(e){return e.usersPage.pageSize},H=function(e){return e.usersPage.totalItemsCount},X=function(e){return e.usersPage.currentPage},Q=function(e){return e.usersPage.isFetching},W=function(e){return e.usersPage.portionSize},Z=function(e){return e.usersPage.filter.term},J=function(e){return e.usersPage.filter.friend},K=function(e){return e.app.initialized},Y=function(e){return e.error.visible},$=function(e){return e.error.object},ee=n(279),te=n(23),ne=n(5),re=n.n(ne),ae=n(6),ce={visible:!1,object:{message:"",variant:"ERROR"}},se="GET_SNACKBAR_POPUP",ie="SET_VISIBLE",oe="SET_MESSAGE",ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ERROR";return{type:se,message:e,variant:t}},le=function(e){return{type:ie,visible:e}},be=function(e){return{type:oe,message:null===e||void 0===e?void 0:e.message,variant:null===e||void 0===e?void 0:e.variant}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(o.a)(Object(o.a)({},e),{},{visible:t.visible});case oe:return Object(o.a)(Object(o.a)({},e),{},{object:Object(o.a)(Object(o.a)({},e.object),{},{message:t.message,variant:t.variant})});default:return e}},je=re.a.mark(me),fe=re.a.mark(he),pe=re.a.mark(xe),Oe=re.a.mark(ve);function me(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.f)(se,he);case 2:case"end":return e.stop()}}),je)}function he(e){var t;return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"!==typeof window){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,Object(ae.d)(le(!0));case 4:return t={message:null===e||void 0===e?void 0:e.message,variant:null===e||void 0===e?void 0:e.variant},n.next=7,Object(ae.d)(be(t));case 7:return n.next=9,Object(ae.c)(3e3);case 9:return n.next=11,Object(ae.b)(xe);case 11:case"end":return n.stop()}}),fe)}function xe(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.d)(le(!1));case 2:case"end":return e.stop()}}),pe)}function ve(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.d)(be(null));case 2:case"end":return e.stop()}}),Oe)}var _e,ge,we=function(){var e=Object(j.d)(Y),t=Object(j.d)($)||{},n=t.message,r=t.variant;return Object(k.jsx)(ee.a,{in:e,timeout:300,classNames:"snackbar",unmountOnExit:!0,onExited:ve,children:Object(k.jsx)("div",{className:"snackbar-body-wrapper",children:Object(k.jsx)("div",{className:Object(te.a)("snackbar-body","SUCCESS"===r&&"_success","ERROR"===r&&"_error"),children:Object(k.jsx)("button",{type:"button",onClick:xe,className:"snackbar-button",children:Object(k.jsx)("div",{style:{color:"white"},children:n})})})})})},Se=c.a.memo(we),Ee=function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(Se,{})})},ke=function(e){var t=e.children,n=Object(j.d)(K),r=Object(j.c)();return Object(a.useEffect)((function(){r(M())}),[r]),n?Object(k.jsxs)("div",{children:[Object(k.jsx)(y,{}),Object(k.jsxs)("main",{className:R.a.main,children:[Object(k.jsx)(U,{}),Object(k.jsx)("div",{className:R.a.content,children:t})]}),Object(k.jsx)(Ee,{})]}):Object(k.jsx)(A.a,{transparent:!0})},Ne=n(16),Ce=n(42),ye=n(29),Pe={},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe;return e},Ue={users:[],pageSize:5,totalItemsCount:0,currentPage:1,portionSize:5,isFetching:!1,filter:{term:"",friend:null}},Ie="FOLLOW",Re="UNFOLLOW",Ae="SET_USERS",Le="SET_TOTAL_COUNT",Fe="SET_CURRENT_PAGE",De="SET_FILTER_PAGE",Me="TOGGLE_IS_FETCHING",ze="REQUESTED_USERS",Ge="FOLLOW_REQUEST",Ve="UNFOLLOW_REQUEST",Be=function(e,t,n,r){return{type:ze,pageNumber:e,pageSize:t,term:n,friend:r}},qe=function(e){return{type:Ge,userId:e}},He=function(e){return{type:Ve,userId:e}},Xe=function(e){return{type:Ie,userId:e}},Qe=function(e){return{type:Re,userId:e}},We=function(e){return{type:Ae,users:e}},Ze=function(e){return{type:Le,totalCount:e}},Je=function(e){return{type:Fe,currentPage:e}},Ke=function(e,t){return{type:De,payload:{term:e,friend:t}}},Ye=function(e){return{type:Me,isFetching:e}},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(o.a)(Object(o.a)({},e),{},{followed:!0}):e}))});case Re:return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(o.a)(Object(o.a)({},e),{},{followed:!1}):e}))});case Ae:return Object(o.a)(Object(o.a)({},e),{},{users:t.users});case Le:return Object(o.a)(Object(o.a)({},e),{},{totalItemsCount:t.totalCount});case Fe:return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.currentPage});case De:return Object(o.a)(Object(o.a)({},e),{},{filter:t.payload});case Me:return Object(o.a)(Object(o.a)({},e),{},{isFetching:t.isFetching});default:return e}},et=n(129),tt=n(123),nt=n.n(tt).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"a1c49f5e-263d-438c-8493-378ba78c02f4"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(_e||(_e={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(ge||(ge={}));var rt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return nt.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===r?"":"&friend=".concat(r))).then((function(e){return e.data}))},at=function(e){return nt.post("follow/".concat(e))},ct=function(e){return nt.delete("follow/".concat(e))},st=function(e){return nt.get("profile/".concat(e))},it=function(e){return nt.get("profile/status/".concat(e))},ot=function(e){return nt.put("profile/status",{status:e})},ut=function(e){return nt.put("profile",e)},lt=function(e){var t=new FormData;return t.append("image",e),nt.put("profile/photo",t,{headers:{"content-type":"multipart/form-data"}})},bt=function(){return nt.get("auth/me")},dt=function(e,t,n,r){return nt.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r})},jt=function(){return nt.delete("auth/login")},ft=function(){return nt.get("security/get-captcha-url")},pt=re.a.mark(vt),Ot=re.a.mark(_t),mt=re.a.mark(gt),ht=re.a.mark(wt),xt=re.a.mark(St);function vt(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.f)(h,gt);case 2:return e.next=4,Object(ae.f)(x,wt);case 4:return e.next=6,Object(ae.f)(v,St);case 6:case"end":return e.stop()}}),pt)}function _t(){var e,t,n,r,a;return re.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(ae.b)(bt);case 2:if((e=c.sent).data.resultCode!==_e.Success){c.next=12;break}return c.next=6,e.data.data;case 6:return t=c.sent,n=t.id,r=t.login,a=t.email,c.next=12,Object(ae.d)(_.setAuthUserData(n,r,a,!0));case 12:case"end":return c.stop()}}),Ot)}function gt(e){var t;return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ae.b)(dt,e.email,e.password,e.rememberMe,e.captcha);case 2:if((t=n.sent).data.resultCode!==_e.Success){n.next=8;break}return n.next=6,Object(ae.b)(_t);case 6:n.next=13;break;case 8:if(t.data.resultCode!==ge.CaptchaIsRequired){n.next=11;break}return n.next=11,Object(ae.b)(St);case 11:return n.next=13,Object(ae.d)(_.stopSubmit(!0));case 13:case"end":return n.stop()}}),mt)}function wt(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.b)(jt);case 2:if(0!==e.sent.data.resultCode){e.next=10;break}return e.next=6,Object(ae.d)(_.setAuthUserData(null,null,null,!1));case 6:return e.next=8,Object(ae.d)(_.setCaptchaUrl(null));case 8:return e.next=10,Object(ae.d)(_.stopSubmit(!1));case 10:case"end":return e.stop()}}),ht)}function St(){var e,t;return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ae.b)(ft);case 2:return e=n.sent,n.next=5,e.data.url;case 5:return t=n.sent,n.next=8,Object(ae.d)(_.setCaptchaUrl(t));case 8:case"end":return n.stop()}}),xt)}var Et=re.a.mark(Nt),kt=re.a.mark(Ct);function Nt(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.f)(D,Ct);case 2:case"end":return e.stop()}}),Et)}function Ct(){var e;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ae.b)(_t);case 2:return e=t.sent,t.next=5,Object(ae.a)([e]);case 5:return t.next=7,Object(ae.d)(z());case 7:case"end":return t.stop()}}),kt)}var yt=re.a.mark(At),Pt=re.a.mark(Lt),Tt=re.a.mark(Ft),Ut=re.a.mark(Dt),It=re.a.mark(Mt),Rt=re.a.mark(zt);function At(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.f)(ye.a,Lt);case 2:return e.next=4,Object(ae.f)(ye.b,Ft);case 4:return e.next=6,Object(ae.f)(ye.e,Dt);case 6:return e.next=8,Object(ae.f)(ye.d,Mt);case 8:return e.next=10,Object(ae.f)(ye.c,zt);case 10:case"end":return e.stop()}}),yt)}function Lt(e){var t;return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(ae.b)(st,e.userId);case 3:return t=n.sent,n.next=6,Object(ae.d)(ye.f.setUserProfile(t.data));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(ae.d)(ue("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"));case 12:case"end":return n.stop()}}),Pt,null,[[0,8]])}function Ft(e){var t;return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(ae.b)(it,e.userId);case 3:return t=n.sent,n.next=6,Object(ae.d)(ye.f.setUserProfileStatus(t.data));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(ae.d)(ue("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"));case 12:case"end":return n.stop()}}),Tt,null,[[0,8]])}function Dt(e){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ae.b)(ot,e.newStatus);case 2:if(t.sent.data.resultCode!==_e.Success){t.next=8;break}return t.next=6,Object(ae.d)(ye.f.setUserProfileStatus(e.newStatus));case 6:t.next=10;break;case 8:return t.next=10,Object(ae.d)(ue("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"));case 10:case"end":return t.stop()}}),Ut)}function Mt(e){var t;return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ae.b)(lt,e.file);case 2:if((t=n.sent).data.resultCode!==_e.Success){n.next=8;break}return n.next=6,Object(ae.d)(ye.f.updatePhotoSuccess(t.data.data.photos));case 6:n.next=10;break;case 8:return n.next=10,Object(ae.d)(ue("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f"));case 10:case"end":return n.stop()}}),It)}function zt(e){var t,n;return re.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(ae.e)((function(e){return e.auth.id}));case 2:return t=r.sent,r.next=5,Object(ae.b)(ut,e.profile);case 5:if(r.sent.data.resultCode!==_e.Success){r.next=17;break}if(null===t){r.next=13;break}return n={userId:t},r.next=11,Object(ae.b)(Lt,n);case 11:r.next=15;break;case 13:return r.next=15,Object(ae.d)(ue("userId can't be null"));case 15:r.next=19;break;case 17:return r.next=19,Object(ae.d)(ue("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"));case 19:case"end":return r.stop()}}),Rt)}var Gt=re.a.mark(Ht),Vt=re.a.mark(Xt),Bt=re.a.mark(Qt),qt=re.a.mark(Wt);function Ht(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.f)(ze,Xt);case 2:return e.next=4,Object(ae.f)(Ge,Qt);case 4:return e.next=6,Object(ae.f)(Ve,Wt);case 6:case"end":return e.stop()}}),Gt)}function Xt(e){var t;return re.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(ae.d)(Ye(!0));case 3:return n.next=5,Object(ae.d)(Je(e.pageNumber));case 5:return n.next=7,Object(ae.d)(Ke(e.term,e.friend));case 7:return n.next=9,Object(ae.b)(rt,e.pageNumber,e.pageSize,e.term,e.friend);case 9:return t=n.sent,n.next=12,Object(ae.d)(We(t.items));case 12:return n.next=14,Object(ae.d)(Ze(t.totalCount));case 14:return n.next=16,Object(ae.d)(Ye(!1));case 16:n.next=22;break;case 18:return n.prev=18,n.t0=n.catch(0),n.next=22,Object(ae.d)(ue("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"));case 22:case"end":return n.stop()}}),Vt,null,[[0,18]])}function Qt(e){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ae.b)(at,e.userId);case 3:return t.next=5,Object(ae.d)(Xe(e.userId));case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(ae.d)(ue("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435."));case 11:case"end":return t.stop()}}),Bt,null,[[0,7]])}function Wt(e){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ae.b)(ct,e.userId);case 3:return t.next=5,Object(ae.d)(Qe(e.userId));case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(ae.d)(ue("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435."));case 11:case"end":return t.stop()}}),qt,null,[[0,7]])}var Zt=re.a.mark(Jt);function Jt(){return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.a)([Ht(),At(),vt(),Nt(),me()]);case 2:case"end":return e.stop()}}),Zt)}var Kt=Object(Ce.b)({profilePage:ye.g,sidebar:Te,usersPage:$e,auth:g,app:G,error:de}),Yt=Object(et.a)(),$t=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Ce.c)(Object(Ce.a)(Yt)),en=Object(Ce.d)(Kt,$t);window.store=en,Yt.run(Jt);var tn=en,nn=n(49),rn=n.n(nn),an=n(95),cn=function(e){var t=e.user,n=e.follow,r=e.unfollow;return Object(k.jsxs)("div",{children:[Object(k.jsxs)("span",{children:[Object(k.jsx)("div",{children:Object(k.jsx)(w.b,{to:"/profile/".concat(t.id),children:Object(k.jsx)("img",{alt:"",src:null!=t.photos.small?t.photos.small:an.a,className:rn.a.userPhoto})})}),Object(k.jsx)("div",{children:t.followed?Object(k.jsx)("button",{type:"button",onClick:function(){r(t.id)},children:"Unfollow"}):Object(k.jsx)("button",{type:"button",onClick:function(){n(t.id)},children:"Follow"})})]}),Object(k.jsx)("span",{children:Object(k.jsxs)("span",{children:[Object(k.jsx)("div",{children:t.name}),Object(k.jsx)("div",{children:t.status})]})})]})},sn=c.a.memo(cn),on=n(26),un=n.p+"static/media/arrow.27eb300a.svg",ln=n(37),bn=n.n(ln),dn=function(e){for(var t=Object(j.d)(X),n=Object(j.d)(q),r=Object(j.d)(H),c=Object(j.d)(W),s=Math.ceil(r/n),i=[],o=1;o<=s;o++)i.push(o);var u=Math.ceil(s/c),l=Object(a.useState)(1),b=Object(on.a)(l,2),d=b[0],f=b[1],p=(d-1)*c+1,O=d*c;return Object(k.jsxs)("div",{className:Object(te.a)("flex _align-items-center",bn.a["bottom-space"]),children:[d>1&&Object(k.jsx)("button",{className:bn.a["previous-botton"],onClick:function(){f(d-1)},children:Object(k.jsx)("img",{src:un,className:bn.a.image,alt:""})}),i.filter((function(e){return e>=p&&e<=O})).map((function(n){return Object(k.jsx)("span",{onClick:function(){return e.onPageChanged(n)},className:Object(te.a)(bn.a["page-number"],t===n&&bn.a["selected-page"]),children:n})})),u>d&&Object(k.jsx)("button",{className:bn.a["next-botton"],onClick:function(){f(d+1)},children:Object(k.jsx)("img",{src:un,className:bn.a.image,alt:""})})]})},jn=n(40),fn=n(32),pn=n(127),On=function(e){var t=e.onPageChanged,n=Object(j.d)(B),r=Object(j.d)(Q),c=Object(j.c)(),s=Object(a.useCallback)((function(e){c(qe(e))}),[]),i=Object(a.useCallback)((function(e){c(He(e))}),[]);return Object(k.jsxs)("div",{children:[Object(k.jsx)(hn,Object(o.a)({},e)),r?Object(k.jsx)(A.a,{inBlock:!0,transparent:!0}):null,Object(k.jsx)(dn,{onPageChanged:t}),Object(k.jsx)("div",{className:rn.a["users-container"],children:n.map((function(e){return Object(k.jsx)(sn,{follow:s,unfollow:i,user:e},e.id)}))})]})},mn=[{value:null,label:"All"},{value:!0,label:"Only followed"},{value:!1,label:"Only unfollowed"}],hn=function(e){var t=Object(j.d)(Z),n=Object(j.d)(J),r=Object(fn.e)({mode:"onChange",defaultValues:{term:t,friend:n}}),a=r.register,s=r.handleSubmit,i=r.control,u=r.setValue;c.a.useEffect((function(){u("term",t),u("friend",n)}),[t,n,u]);var l=function(e){return mn.find((function(t){return t.value===e}))};return Object(k.jsxs)("form",{onSubmit:s((function(t){e.onFilterChanged(t.term,t.friend)})),children:[Object(k.jsx)(jn.a,{type:"text",placeholder:"Search user",name:Object(o.a)({},a("term")),className:rn.a["search-user"]}),Object(k.jsx)(fn.a,{control:i,defaultValue:n,name:"friend",render:function(e){var t=e.field,n=t.onChange,r=t.value;return Object(k.jsx)(pn.a,{options:mn,value:l(r),onChange:function(e){return n(e.value)}})}}),Object(k.jsx)("button",{className:rn.a["search-button"],children:"Search"})]})},xn=c.a.memo(On),vn=function(){var e=Object(j.d)(X),t=Object(j.d)(q),r=Object(j.d)(Z),c=Object(j.d)(J),s=Object(j.c)(),i=Object(Ne.g)(),o=n(176);Object(a.useEffect)((function(){var n=o.parse(i.location.search.slice(1)),r=e,a=c;switch(n.page&&(r=Number(n.page)),n.friend){case"true":a=!0;break;case"false":a=!1;break;case"null":a=null}s(Be(r,t,n.term,a))}),[]),Object(a.useEffect)((function(){var t={};r&&(t.term=r),null!==c&&(t.friend=String(c)),1!==e&&(t.page=String(e)),i.push({pathname:"/users",search:o.stringify(t)})}),[r,c,e]);return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(xn,{onPageChanged:function(e){s(Be(e,t,r,c))},onFilterChanged:function(e,n){s(Be(1,t,e,n))}})})},_n=n(44),gn=n.n(_n),wn=n(130),Sn=n(69),En=n(31),kn=n.n(En),Nn=Sn.a().shape({email:Sn.b().email("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 e-mail \u0430\u0434\u0440\u0435\u0441\u0430").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),password:Sn.b().required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435").min(4,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c 4 \u0441\u0438\u043c\u0432\u043e\u043b\u0430").max(10,"\u041f\u0430\u0440\u043e\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 10 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}),Cn=Object(j.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl,errorMessage:e.auth.errorMessage}}),{login:_.getLoginData})((function(e){var t,n,r=Object(fn.e)({mode:"onChange",resolver:Object(wn.a)(Nn)}),a=r.register,c=r.handleSubmit,s=r.formState,i=s.errors,u=s.isValid,l=r.reset;return e.isAuth?Object(k.jsx)(Ne.a,{to:"/profile"}):Object(k.jsxs)("div",{className:Object(te.a)("flex _direction-column _align-items-center",kn.a["login-wrapper"]),children:[e.errorMessage&&Object(k.jsx)("div",{className:gn.a["form-common-error"],children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 Email \u0438\u043b\u0438 \u041f\u0430\u0440\u043e\u043b\u044c"}),Object(k.jsx)("h1",{className:kn.a.title,children:"Login"}),Object(k.jsxs)("form",{className:kn.a["login-form"],noValidate:!0,onSubmit:c((function(t){e.login(t.email,t.password,t.rememberMe,t.captcha),l()})),children:[Object(k.jsx)("div",{children:Object(k.jsx)(jn.a,{className:kn.a.field,formControlClassName:kn.a["form-control-field"],type:"email",placeholder:"Login",name:Object(o.a)({},a("email")),error:!!(null===i||void 0===i?void 0:i.email),helperText:null===i||void 0===i||null===(t=i.email)||void 0===t?void 0:t.message})}),Object(k.jsx)("div",{children:Object(k.jsx)(jn.a,{className:kn.a.field,formControlClassName:kn.a["form-control-field"],type:"password",placeholder:"Password",name:Object(o.a)({},a("password")),error:!!(null===i||void 0===i?void 0:i.password),helperText:null===i||void 0===i||null===(n=i.password)||void 0===n?void 0:n.message})}),Object(k.jsxs)("div",{className:kn.a["remember-block"],children:[Object(k.jsx)(jn.a,{className:kn.a["remember-checkbox"],type:"checkbox",name:Object(o.a)({},a("rememberMe"))}),Object(k.jsx)("span",{className:kn.a["remember-text"],children:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"})]}),e.captchaUrl&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("img",{alt:"",src:e.captchaUrl}),Object(k.jsx)("div",{children:Object(k.jsx)(jn.a,{type:"text",placeholder:"Write captcha",name:Object(o.a)({},a("captcha"))})})]}),Object(k.jsx)("button",{className:Object(te.a)(kn.a["login-button"],!u&&gn.a._disable),type:"submit",disabled:!u,children:"Login"})]})]})})),yn=c.a.lazy((function(){return n.e(4).then(n.bind(null,284))})),Pn=c.a.lazy((function(){return n.e(3).then(n.bind(null,285))})),Tn=function(){return Object(k.jsx)(w.a,{children:Object(k.jsx)(j.a,{store:tn,children:Object(k.jsx)(ke,{children:Object(k.jsx)(a.Suspense,{fallback:Object(k.jsx)(A.a,{inBlock:!0,transparent:!0}),children:Object(k.jsxs)(Ne.d,{children:[Object(k.jsx)(Ne.b,{exact:!0,path:"/",render:function(){return Object(k.jsx)(Ne.a,{to:"/profile"})}}),Object(k.jsx)(Ne.b,{path:"/profile/:userId?",render:function(){return Object(k.jsx)(Pn,{})}}),Object(k.jsx)(Ne.b,{path:"/users",render:function(){return Object(k.jsx)(vn,{})}}),Object(k.jsx)(Ne.b,{path:"/login",render:function(){return Object(k.jsx)(Cn,{})}}),Object(k.jsx)(Ne.b,{path:"/chat",render:function(){return Object(k.jsx)(yn,{})}}),Object(k.jsx)(Ne.b,{render:function(){return Object(k.jsx)("div",{children:"404 NOT FOUND"})}})]})})})})})};i.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(Tn,{})}),document.getElementById("root")),r()},29:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return d})),n.d(t,"f",(function(){return j}));var r=n(2),a={posts:[{id:1,message:"New post",likesCount:12},{id:2,message:"it is my first post",likesCount:11}],profile:null,profileStatus:""},c="SET_USER_PROFILE",s="SET_USER_PROFILE_STATUS",i="UPDATE_PHOTO_SUCCESS",o="SAVE_PROFILE",u="GET_USER_PROFILE_STATUS",l="UPDATE_USER_PROFILE_STATUS",b="UPDATE_PHOTO_REQUEST",d="GET_USER_PROFILE",j={getUserProfile:function(e){return{type:d,userId:e}},updatePhotoRequest:function(e){return{type:b,file:e}},updateUserProfileStatus:function(e){return{type:l,newStatus:e}},getUserProfileStatus:function(e){return{type:u,userId:e}},saveProfile:function(e){return{type:o,profile:e}},setUserProfile:function(e){return{type:c,profile:e}},setUserProfileStatus:function(e){return{type:s,profileStatus:e}},updatePhotoSuccess:function(e){return{type:i,profilePhoto:e}}};t.g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return Object(r.a)(Object(r.a)({},e),{},{profile:t.profile});case s:return Object(r.a)(Object(r.a)({},e),{},{profileStatus:t.profileStatus});case i:return Object(r.a)(Object(r.a)({},e),{},{profile:Object(r.a)(Object(r.a)({},e.profile),{},{photos:t.profilePhoto})});default:return e}}},31:function(e,t,n){e.exports={"login-wrapper":"login_login-wrapper__11TAs","login-form":"login_login-form__2WiNX",title:"login_title__EeJE8",field:"login_field__13fZX","form-control-field":"login_form-control-field__2QzPV","remember-checkbox":"login_remember-checkbox__3DCAV","remember-text":"login_remember-text__2YdFX","remember-block":"login_remember-block__1M0ET","login-button":"login_login-button__eexvH",_disable:"login__disable__3w4KH"}},37:function(e,t,n){e.exports={"selected-page":"pagination_selected-page__1SDfa","page-number":"pagination_page-number__DpB1o","next-botton":"pagination_next-botton__AnZ3M","previous-botton":"pagination_previous-botton__16bwp",image:"pagination_image__1tacT","bottom-space":"pagination_bottom-space__2JhVV"}},40:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return l}));var r=n(2),a=(n(0),n(44)),c=n.n(a),s=n(23),i=n(1),o=function(e){var t=e.error,n=e.helperText,r=e.formControlClassName,a=e.children;return Object(i.jsxs)("div",{className:Object(s.a)(c.a["form-control"],r),children:[Object(i.jsx)("div",{className:t&&c.a.error,children:a}),t&&Object(i.jsx)("span",{className:c.a["error-text"],children:n})]})},u=function(e){return Object(i.jsx)(o,Object(r.a)(Object(r.a)({},e),{},{children:Object(i.jsx)("textarea",Object(r.a)(Object(r.a)({type:e.type},e.name),{},{placeholder:e.placeholder}))}))},l=function(e){var t=e.type,n=e.name,a=e.placeholder,c=e.className;return Object(i.jsx)(o,Object(r.a)(Object(r.a)({},e),{},{children:Object(i.jsx)("input",Object(r.a)(Object(r.a)({type:t},n),{},{placeholder:a,className:c}))}))}},44:function(e,t,n){e.exports={"form-control":"forms-control_form-control__uBF8n",error:"forms-control_error__b3iDN","error-text":"forms-control_error-text__Nt_fm","form-common-error":"forms-control_form-common-error__3a4oj"}},45:function(e,t,n){e.exports={header:"header_header__2XAmd",wrapper:"header_wrapper__nTiAZ",header__title:"header_header__title__4nvRq","header__login-button":"header_header__login-button__3I4a4","header__logout-button":"header_header__logout-button__1ziO2"}},46:function(e,t,n){"use strict";n(0);var r=n(128),a=n(23),c=n.p+"static/media/oval.ac6d1de9.svg",s=n(1);t.a=function(e){return Object(s.jsx)("div",{className:Object(a.a)(e.inBlock?"in-block-preloader":"full-screen-preloader","absolute"===e.inBlock&&"absolute-preloader",e.transparent&&"transparent-preloader"),style:e.style,children:!e.disableSpinner&&Object(s.jsx)("div",{className:Object(a.a)("lds-spinner",e.inButton&&"_lds-small-spinner"),children:Object(s.jsx)(r.a,{src:c,className:Object(a.a)("lds-inner-spinner",e.spinnerIconClassName)})})})}},49:function(e,t,n){e.exports={"users-container":"users_users-container__30RKw",userPhoto:"users_userPhoto__eUAgy","search-user":"users_search-user__2LIpL","search-button":"users_search-button__1kMif"}},83:function(e,t,n){e.exports={main:"layout_main__26Go0",content:"layout_content__2Pujz"}},85:function(e,t,n){},95:function(e,t,n){"use strict";t.a=n.p+"static/media/user.f4ae82d7.png"}},[[277,1,2]]]);
//# sourceMappingURL=main.e3a0c532.chunk.js.map