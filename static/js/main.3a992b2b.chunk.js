(this["webpackJsonpsocial-media"]=this["webpackJsonpsocial-media"]||[]).push([[0],{142:function(e,t,r){},22:function(e,t,r){"use strict";function n(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map((function(e){return e?" ".concat(e):""})).join("").trim();return n}r.d(t,"a",(function(){return n}))},24:function(e,t,r){e.exports={sitebar:"sitebar_sitebar__2izHV",item:"sitebar_item__1o1iI",active:"sitebar_active__mSPb_",menu:"sitebar_menu__1iylt"}},277:function(e,t,r){"use strict";r.r(t);r(85);var n=function(e){e&&e instanceof Function&&r.e(4).then(r.bind(null,281)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))},a=r(0),c=r.n(a),s=r(28),i=r.n(s),o=r(2),u=r(11),l=r(12),b=r(19),d=r(20),j=r(10),f={id:null,login:null,email:null,isAuth:!1,errorMessage:!1,captchaUrl:null},p="social-network/auth/SET_USER_DATA",O="social-network/auth/SET_CAPTCHA_URL",m="social-network/auth/SET_ERROR",h="social-network/auth/GET_LOGIN_DATA",x="social-network/auth/LOGOUT_REQUEST",_="social-network/auth/GET_CAPTCHA_URL",v={getLoginData:function(e,t,r,n){return{type:h,email:e,password:t,rememberMe:r,captcha:n}},logoutRequest:function(){return{type:x}},getCaptchaUrl:function(){return{type:_}},setAuthUserData:function(e,t,r,n){return{type:p,data:{id:e,login:t,email:r,isAuth:n}}},setCaptchaUrl:function(e){return{type:O,captchaUrl:e}},stopSubmit:function(e){return{type:m,errorMessage:e}}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(o.a)(Object(o.a)({},e),t.data);case O:return Object(o.a)(Object(o.a)({},e),{},{captchaUrl:t.captchaUrl});case m:return Object(o.a)(Object(o.a)({},e),{},{errorMessage:t.errorMessage});default:return e}},w=r(21),S=r(45),E=r.n(S),k=r(1),N=function(e){return Object(k.jsx)("header",{className:E.a.header,children:Object(k.jsxs)("div",{className:E.a.wrapper,children:[Object(k.jsx)("div",{className:E.a.header__title,children:"Social Media App"}),Object(k.jsx)("div",{className:E.a["login-block"],children:e.isAuth?Object(k.jsxs)("div",{className:"flex _direction-column _align-items-center gap-5",children:[Object(k.jsx)("div",{children:e.login}),Object(k.jsx)("button",{className:E.a["header__logout-button"],onClick:e.logout,children:"Logout"})]}):Object(k.jsx)(w.b,{to:"/login",children:Object(k.jsx)("div",{className:E.a["header__login-button"],children:"Login"})})})]})})},C=function(e){Object(b.a)(r,e);var t=Object(d.a)(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return Object(k.jsx)(N,Object(o.a)({},this.props))}}]),r}(c.a.Component),y=Object(j.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{logout:v.logoutRequest})(C),P=r(24),T=r.n(P),U=function(){return Object(k.jsx)("nav",{className:T.a.sitebar,children:Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{activeClassName:T.a["active-item"],children:Object(k.jsx)(w.b,{className:T.a.item,activeClassName:T.a.active,to:"/profile",children:"Profile"})}),Object(k.jsx)("li",{activeClassName:T.a["active-item"],children:Object(k.jsx)(w.b,{className:T.a.item,activeClassName:T.a.active,to:"/users",children:"Users"})}),Object(k.jsx)("li",{activeClassName:T.a["active-item"],children:Object(k.jsx)(w.b,{className:T.a.item,to:"/",children:"News"})}),Object(k.jsx)("li",{activeClassName:T.a["active-item"],children:Object(k.jsx)(w.b,{className:T.a.item,to:"/",children:"Music"})}),Object(k.jsx)("li",{activeClassName:T.a["active-item"],children:Object(k.jsx)(w.b,{className:T.a.item,to:"/",children:"Settings"})})]})})},I=r(83),R=r.n(I),A=(r(142),r(46)),L={initialized:!1},F="social-network/app/INITIALIZED_SUCCESS",D="social-network/app/INITIALIZE_APP",M=function(){return{type:D}},z=function(){return{type:F}},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(o.a)(Object(o.a)({},e),{},{initialized:!0});default:return e}},V=r(131),B=Object(V.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),q=function(e){return e.usersPage.pageSize},H=function(e){return e.usersPage.totalItemsCount},X=function(e){return e.usersPage.currentPage},Q=function(e){return e.usersPage.isFetching},W=function(e){return e.usersPage.portionSize},Z=function(e){return e.usersPage.filter.term},J=function(e){return e.usersPage.filter.friend},K=function(e){return e.app.initialized},Y=function(e){return e.error.visible},$=function(e){return e.error.object},ee=r(279),te=r(22),re=r(5),ne=r.n(re),ae=r(6),ce={visible:!1,object:{message:"",variant:"ERROR"}},se="GET_SNACKBAR_POPUP",ie="SET_VISIBLE",oe="SET_MESSAGE",ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ERROR";return{type:se,message:e,variant:t}},le=function(e){return{type:ie,visible:e}},be=function(e){return{type:oe,message:null===e||void 0===e?void 0:e.message,variant:null===e||void 0===e?void 0:e.variant}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return Object(o.a)(Object(o.a)({},e),{},{visible:t.visible});case oe:return Object(o.a)(Object(o.a)({},e),{},{object:Object(o.a)(Object(o.a)({},e.object),{},{message:t.message,variant:t.variant})});default:return e}},je=ne.a.mark(me),fe=ne.a.mark(he),pe=ne.a.mark(xe),Oe=ne.a.mark(_e);function me(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.f)(se,he);case 2:case"end":return e.stop()}}),je)}function he(e){var t;return ne.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("undefined"!==typeof window){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Object(ae.d)(le(!0));case 4:return t={message:null===e||void 0===e?void 0:e.message,variant:null===e||void 0===e?void 0:e.variant},r.next=7,Object(ae.d)(be(t));case 7:return r.next=9,Object(ae.c)(3e3);case 9:return r.next=11,Object(ae.b)(xe);case 11:case"end":return r.stop()}}),fe)}function xe(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.d)(le(!1));case 2:case"end":return e.stop()}}),pe)}function _e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.d)(be(null));case 2:case"end":return e.stop()}}),Oe)}var ve,ge,we=function(){var e=Object(j.d)(Y),t=Object(j.d)($)||{},r=t.message,n=t.variant;return Object(k.jsx)(ee.a,{in:e,timeout:300,classNames:"snackbar",unmountOnExit:!0,onExited:_e,children:Object(k.jsx)("div",{className:"snackbar-body-wrapper",children:Object(k.jsx)("div",{className:Object(te.a)("snackbar-body","SUCCESS"===n&&"_success","ERROR"===n&&"_error"),children:Object(k.jsx)("button",{type:"button",onClick:xe,className:"snackbar-button",children:Object(k.jsx)("div",{style:{color:"white"},children:r})})})})})},Se=c.a.memo(we),Ee=function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(Se,{})})},ke=function(e){var t=e.children,r=Object(j.d)(K),n=Object(j.c)();return Object(a.useEffect)((function(){n(M())}),[n]),r?Object(k.jsxs)("div",{children:[Object(k.jsx)(y,{}),Object(k.jsxs)("main",{className:R.a.main,children:[Object(k.jsx)(U,{}),Object(k.jsx)("div",{className:R.a.content,children:t})]}),Object(k.jsx)(Ee,{})]}):Object(k.jsx)(A.a,{transparent:!0})},Ne=r(16),Ce=r(42),ye=r(29),Pe={},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe;return e},Ue={users:[],pageSize:5,totalItemsCount:0,currentPage:1,portionSize:5,isFetching:!1,filter:{term:"",friend:null}},Ie="FOLLOW",Re="UNFOLLOW",Ae="SET_USERS",Le="SET_TOTAL_COUNT",Fe="SET_CURRENT_PAGE",De="SET_FILTER_PAGE",Me="TOGGLE_IS_FETCHING",ze="REQUESTED_USERS",Ge="FOLLOW_REQUEST",Ve="UNFOLLOW_REQUEST",Be=function(e,t,r,n){return{type:ze,pageNumber:e,pageSize:t,term:r,friend:n}},qe=function(e){return{type:Ge,userId:e}},He=function(e){return{type:Ve,userId:e}},Xe=function(e){return{type:Ie,userId:e}},Qe=function(e){return{type:Re,userId:e}},We=function(e){return{type:Ae,users:e}},Ze=function(e){return{type:Le,totalCount:e}},Je=function(e){return{type:Fe,currentPage:e}},Ke=function(e,t){return{type:De,payload:{term:e,friend:t}}},Ye=function(e){return{type:Me,isFetching:e}},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(o.a)(Object(o.a)({},e),{},{followed:!0}):e}))});case Re:return Object(o.a)(Object(o.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(o.a)(Object(o.a)({},e),{},{followed:!1}):e}))});case Ae:return Object(o.a)(Object(o.a)({},e),{},{users:t.users});case Le:return Object(o.a)(Object(o.a)({},e),{},{totalItemsCount:t.totalCount});case Fe:return Object(o.a)(Object(o.a)({},e),{},{currentPage:t.currentPage});case De:return Object(o.a)(Object(o.a)({},e),{},{filter:t.payload});case Me:return Object(o.a)(Object(o.a)({},e),{},{isFetching:t.isFetching});default:return e}},et=r(129),tt=r(123),rt=r.n(tt).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"a1c49f5e-263d-438c-8493-378ba78c02f4"}});!function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(ve||(ve={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(ge||(ge={}));var nt=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return rt.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(r)+(null===n?"":"&friend=".concat(n))).then((function(e){return e.data}))},at=function(e){return rt.post("follow/".concat(e))},ct=function(e){return rt.delete("follow/".concat(e))},st=function(e){return rt.get("profile/".concat(e))},it=function(e){return rt.get("profile/status/".concat(e))},ot=function(e){return rt.put("profile/status",{status:e})},ut=function(e){return rt.put("profile",e)},lt=function(e){var t=new FormData;return t.append("image",e),rt.put("profile/photo",t,{headers:{"content-type":"multipart/form-data"}})},bt=function(){return rt.get("auth/me")},dt=function(e,t,r,n){return rt.post("auth/login",{email:e,password:t,rememberMe:r,captcha:n})},jt=function(){return rt.delete("auth/login")},ft=function(){return rt.get("security/get-captcha-url")},pt=ne.a.mark(_t),Ot=ne.a.mark(vt),mt=ne.a.mark(gt),ht=ne.a.mark(wt),xt=ne.a.mark(St);function _t(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.f)(h,gt);case 2:return e.next=4,Object(ae.f)(x,wt);case 4:return e.next=6,Object(ae.f)(_,St);case 6:case"end":return e.stop()}}),pt)}function vt(){var e,t,r,n,a;return ne.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(ae.b)(bt);case 2:if((e=c.sent).data.resultCode!==ve.Success){c.next=12;break}return c.next=6,e.data.data;case 6:return t=c.sent,r=t.id,n=t.login,a=t.email,c.next=12,Object(ae.d)(v.setAuthUserData(r,n,a,!0));case 12:case"end":return c.stop()}}),Ot)}function gt(e){var t;return ne.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(ae.b)(dt,e.email,e.password,e.rememberMe,e.captcha);case 2:if((t=r.sent).data.resultCode!==ve.Success){r.next=8;break}return r.next=6,Object(ae.b)(vt);case 6:r.next=13;break;case 8:if(t.data.resultCode!==ge.CaptchaIsRequired){r.next=11;break}return r.next=11,Object(ae.b)(St);case 11:return r.next=13,Object(ae.d)(v.stopSubmit(!0));case 13:case"end":return r.stop()}}),mt)}function wt(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.b)(jt);case 2:if(0!==e.sent.data.resultCode){e.next=10;break}return e.next=6,Object(ae.d)(v.setAuthUserData(null,null,null,!1));case 6:return e.next=8,Object(ae.d)(v.setCaptchaUrl(null));case 8:return e.next=10,Object(ae.d)(v.stopSubmit(!1));case 10:case"end":return e.stop()}}),ht)}function St(){var e,t;return ne.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(ae.b)(ft);case 2:return e=r.sent,r.next=5,e.data.url;case 5:return t=r.sent,r.next=8,Object(ae.d)(v.setCaptchaUrl(t));case 8:case"end":return r.stop()}}),xt)}var Et=ne.a.mark(Nt),kt=ne.a.mark(Ct);function Nt(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.f)(D,Ct);case 2:case"end":return e.stop()}}),Et)}function Ct(){var e;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ae.b)(vt);case 2:return e=t.sent,t.next=5,Object(ae.a)([e]);case 5:return t.next=7,Object(ae.d)(z());case 7:case"end":return t.stop()}}),kt)}var yt=ne.a.mark(At),Pt=ne.a.mark(Lt),Tt=ne.a.mark(Ft),Ut=ne.a.mark(Dt),It=ne.a.mark(Mt),Rt=ne.a.mark(zt);function At(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.f)(ye.a,Lt);case 2:return e.next=4,Object(ae.f)(ye.b,Ft);case 4:return e.next=6,Object(ae.f)(ye.e,Dt);case 6:return e.next=8,Object(ae.f)(ye.d,Mt);case 8:return e.next=10,Object(ae.f)(ye.c,zt);case 10:case"end":return e.stop()}}),yt)}function Lt(e){var t;return ne.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(ae.b)(st,e.userId);case 3:return t=r.sent,r.next=6,Object(ae.d)(ye.f.setUserProfile(t.data));case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(ae.d)(ue("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"));case 12:case"end":return r.stop()}}),Pt,null,[[0,8]])}function Ft(e){var t;return ne.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(ae.b)(it,e.userId);case 3:return t=r.sent,r.next=6,Object(ae.d)(ye.f.setUserProfileStatus(t.data));case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(ae.d)(ue("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"));case 12:case"end":return r.stop()}}),Tt,null,[[0,8]])}function Dt(e){return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ae.b)(ot,e.newStatus);case 2:if(t.sent.data.resultCode!==ve.Success){t.next=8;break}return t.next=6,Object(ae.d)(ye.f.setUserProfileStatus(e.newStatus));case 6:t.next=10;break;case 8:return t.next=10,Object(ae.d)(ue("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441 \u043f\u0440\u043e\u0444\u0438\u043b\u044f"));case 10:case"end":return t.stop()}}),Ut)}function Mt(e){var t;return ne.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(ae.b)(lt,e.file);case 2:if((t=r.sent).data.resultCode!==ve.Success){r.next=8;break}return r.next=6,Object(ae.d)(ye.f.updatePhotoSuccess(t.data.data.photos));case 6:r.next=10;break;case 8:return r.next=10,Object(ae.d)(ue("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f"));case 10:case"end":return r.stop()}}),It)}function zt(e){var t,r;return ne.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(ae.e)((function(e){return e.auth.id}));case 2:return t=n.sent,n.next=5,Object(ae.b)(ut,e.profile);case 5:if(n.sent.data.resultCode!==ve.Success){n.next=17;break}if(null===t){n.next=13;break}return r={userId:t},n.next=11,Object(ae.b)(Lt,r);case 11:n.next=15;break;case 13:return n.next=15,Object(ae.d)(ue("userId can't be null"));case 15:n.next=19;break;case 17:return n.next=19,Object(ae.d)(ue("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"));case 19:case"end":return n.stop()}}),Rt)}var Gt=ne.a.mark(Ht),Vt=ne.a.mark(Xt),Bt=ne.a.mark(Qt),qt=ne.a.mark(Wt);function Ht(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.f)(ze,Xt);case 2:return e.next=4,Object(ae.f)(Ge,Qt);case 4:return e.next=6,Object(ae.f)(Ve,Wt);case 6:case"end":return e.stop()}}),Gt)}function Xt(e){var t;return ne.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(ae.d)(Ye(!0));case 3:return r.next=5,Object(ae.d)(Je(e.pageNumber));case 5:return r.next=7,Object(ae.d)(Ke(e.term,e.friend));case 7:return r.next=9,Object(ae.b)(nt,e.pageNumber,e.pageSize,e.term,e.friend);case 9:return t=r.sent,r.next=12,Object(ae.d)(We(t.items));case 12:return r.next=14,Object(ae.d)(Ze(t.totalCount));case 14:return r.next=16,Object(ae.d)(Ye(!1));case 16:r.next=22;break;case 18:return r.prev=18,r.t0=r.catch(0),r.next=22,Object(ae.d)(ue("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"));case 22:case"end":return r.stop()}}),Vt,null,[[0,18]])}function Qt(e){return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ae.b)(at,e.userId);case 3:return t.next=5,Object(ae.d)(Xe(e.userId));case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(ae.d)(ue("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435."));case 11:case"end":return t.stop()}}),Bt,null,[[0,7]])}function Wt(e){return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(ae.b)(ct,e.userId);case 3:return t.next=5,Object(ae.d)(Qe(e.userId));case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(ae.d)(ue("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0432\u0435\u0440\u0448\u0438\u0442\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435."));case 11:case"end":return t.stop()}}),qt,null,[[0,7]])}var Zt=ne.a.mark(Jt);function Jt(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ae.a)([Ht(),At(),_t(),Nt(),me()]);case 2:case"end":return e.stop()}}),Zt)}var Kt=Object(Ce.b)({profilePage:ye.g,sidebar:Te,usersPage:$e,auth:g,app:G,error:de}),Yt=Object(et.a)(),$t=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):Ce.c)(Object(Ce.a)(Yt)),er=Object(Ce.d)(Kt,$t);window.store=er,Yt.run(Jt);var tr=er,rr=r(49),nr=r.n(rr),ar=r(95),cr=function(e){var t=e.user,r=e.follow,n=e.unfollow;return Object(k.jsxs)("div",{children:[Object(k.jsxs)("span",{children:[Object(k.jsx)("div",{children:Object(k.jsx)(w.b,{to:"/profile/".concat(t.id),children:Object(k.jsx)("img",{alt:"",src:null!=t.photos.small?t.photos.small:ar.a,className:nr.a.userPhoto})})}),Object(k.jsx)("div",{children:t.followed?Object(k.jsx)("button",{type:"button",onClick:function(){n(t.id)},children:"Unfollow"}):Object(k.jsx)("button",{type:"button",onClick:function(){r(t.id)},children:"Follow"})})]}),Object(k.jsx)("span",{children:Object(k.jsxs)("span",{children:[Object(k.jsx)("div",{children:t.name}),Object(k.jsx)("div",{children:t.status})]})})]})},sr=c.a.memo(cr),ir=r(26),or=r.p+"static/media/arrow.27eb300a.svg",ur=r(37),lr=r.n(ur),br=function(e){for(var t=Object(j.d)(X),r=Object(j.d)(q),n=Object(j.d)(H),c=Object(j.d)(W),s=Math.ceil(n/r),i=[],o=1;o<=s;o++)i.push(o);var u=Math.ceil(s/c),l=Object(a.useState)(1),b=Object(ir.a)(l,2),d=b[0],f=b[1],p=(d-1)*c+1,O=d*c;return Object(k.jsxs)("div",{className:Object(te.a)("flex _align-items-center",lr.a["bottom-space"]),children:[d>1&&Object(k.jsx)("button",{className:lr.a["previous-botton"],onClick:function(){f(d-1)},children:Object(k.jsx)("img",{src:or,className:lr.a.image,alt:""})}),i.filter((function(e){return e>=p&&e<=O})).map((function(r){return Object(k.jsx)("span",{onClick:function(){return e.onPageChanged(r)},className:Object(te.a)(lr.a["page-number"],t===r&&lr.a["selected-page"]),children:r})})),u>d&&Object(k.jsx)("button",{className:lr.a["next-botton"],onClick:function(){f(d+1)},children:Object(k.jsx)("img",{src:or,className:lr.a.image,alt:""})})]})},dr=r(40),jr=r(32),fr=r(127),pr=function(e){var t=e.onPageChanged,r=Object(j.d)(B),n=Object(j.d)(Q),c=Object(j.c)(),s=Object(a.useCallback)((function(e){c(qe(e))}),[]),i=Object(a.useCallback)((function(e){c(He(e))}),[]);return Object(k.jsxs)("div",{children:[Object(k.jsx)(mr,Object(o.a)({},e)),n?Object(k.jsx)(A.a,{inBlock:!0,transparent:!0}):null,Object(k.jsx)(br,{onPageChanged:t}),Object(k.jsx)("div",{className:nr.a["users-container"],children:r.map((function(e){return Object(k.jsx)(sr,{follow:s,unfollow:i,user:e},e.id)}))})]})},Or=[{value:null,label:"All"},{value:!0,label:"Only followed"},{value:!1,label:"Only unfollowed"}],mr=function(e){var t=Object(j.d)(Z),r=Object(j.d)(J),n=Object(jr.e)({mode:"onChange",defaultValues:{term:t,friend:r}}),a=n.register,s=n.handleSubmit,i=n.control,u=n.setValue;c.a.useEffect((function(){u("term",t),u("friend",r)}),[t,r,u]);var l=function(e){return Or.find((function(t){return t.value===e}))};return Object(k.jsxs)("form",{onSubmit:s((function(t){e.onFilterChanged(t.term,t.friend)})),children:[Object(k.jsx)(dr.a,{type:"text",placeholder:"Search user",name:Object(o.a)({},a("term")),className:nr.a["search-user"]}),Object(k.jsx)(jr.a,{control:i,defaultValue:r,name:"friend",render:function(e){var t=e.field,r=t.onChange,n=t.value;return Object(k.jsx)(fr.a,{options:Or,value:l(n),onChange:function(e){return r(e.value)}})}}),Object(k.jsx)("button",{className:nr.a["search-button"],children:"Search"})]})},hr=c.a.memo(pr),xr=function(){var e=Object(j.d)(X),t=Object(j.d)(q),n=Object(j.d)(Z),c=Object(j.d)(J),s=Object(j.c)(),i=Object(Ne.g)(),o=r(176);Object(a.useEffect)((function(){var r=o.parse(i.location.search.slice(1)),n=e,a=c;switch(r.page&&(n=Number(r.page)),r.friend){case"true":a=!0;break;case"false":a=!1;break;case"null":a=null}s(Be(n,t,r.term,a))}),[]),Object(a.useEffect)((function(){var t={};n&&(t.term=n),null!==c&&(t.friend=String(c)),1!==e&&(t.page=String(e)),i.push({pathname:"/users",search:o.stringify(t)})}),[n,c,e]);return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(hr,{onPageChanged:function(e){s(Be(e,t,n,c))},onFilterChanged:function(e,r){s(Be(1,t,e,r))}})})},_r=r(44),vr=r.n(_r),gr=r(130),wr=r(69),Sr=r(31),Er=r.n(Sr),kr=wr.a().shape({email:wr.b().email("\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 e-mail \u0430\u0434\u0440\u0435\u0441\u0430").required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435"),password:wr.b().required("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435").min(4,"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c 4 \u0441\u0438\u043c\u0432\u043e\u043b\u0430").max(10,"\u041f\u0430\u0440\u043e\u043b\u044c \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 10 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}),Nr=Object(j.b)((function(e){return{isAuth:e.auth.isAuth,captchaUrl:e.auth.captchaUrl,errorMessage:e.auth.errorMessage}}),{login:v.getLoginData})((function(e){var t,r,n=Object(jr.e)({mode:"onChange",resolver:Object(gr.a)(kr)}),a=n.register,c=n.handleSubmit,s=n.formState,i=s.errors,u=s.isValid,l=n.reset;return e.isAuth?Object(k.jsx)(Ne.a,{to:"/profile"}):Object(k.jsxs)("div",{className:Object(te.a)("flex _direction-column _align-items-center",Er.a["login-wrapper"]),children:[e.errorMessage&&Object(k.jsx)("div",{className:vr.a["form-common-error"],children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 Email \u0438\u043b\u0438 \u041f\u0430\u0440\u043e\u043b\u044c"}),Object(k.jsx)("h1",{className:Er.a.title,children:"Login"}),Object(k.jsxs)("form",{className:Er.a["login-form"],noValidate:!0,onSubmit:c((function(t){e.login(t.email,t.password,t.rememberMe,t.captcha),l()})),children:[Object(k.jsx)("div",{children:Object(k.jsx)(dr.a,{className:Er.a.field,formControlClassName:Er.a["form-control-field"],type:"email",placeholder:"Login",name:Object(o.a)({},a("email")),error:!!(null===i||void 0===i?void 0:i.email),helperText:null===i||void 0===i||null===(t=i.email)||void 0===t?void 0:t.message})}),Object(k.jsx)("div",{children:Object(k.jsx)(dr.a,{className:Er.a.field,formControlClassName:Er.a["form-control-field"],type:"password",placeholder:"Password",name:Object(o.a)({},a("password")),error:!!(null===i||void 0===i?void 0:i.password),helperText:null===i||void 0===i||null===(r=i.password)||void 0===r?void 0:r.message})}),Object(k.jsxs)("div",{className:Er.a["remember-block"],children:[Object(k.jsx)(dr.a,{className:Er.a["remember-checkbox"],type:"checkbox",name:Object(o.a)({},a("rememberMe"))}),Object(k.jsx)("span",{className:Er.a["remember-text"],children:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043c\u0435\u043d\u044f"})]}),e.captchaUrl&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("img",{alt:"",src:e.captchaUrl}),Object(k.jsx)("div",{children:Object(k.jsx)(dr.a,{type:"text",placeholder:"Write captcha",name:Object(o.a)({},a("captcha"))})})]}),Object(k.jsx)("button",{className:Object(te.a)(Er.a["login-button"],!u&&vr.a._disable),type:"submit",disabled:!u,children:"Login"})]})]})})),Cr=c.a.lazy((function(){return r.e(3).then(r.bind(null,282))})),yr=function(){return Object(k.jsx)(w.a,{children:Object(k.jsx)(j.a,{store:tr,children:Object(k.jsx)(ke,{children:Object(k.jsx)(a.Suspense,{fallback:Object(k.jsx)(A.a,{inBlock:!0,transparent:!0}),children:Object(k.jsxs)(Ne.d,{children:[Object(k.jsx)(Ne.b,{exact:!0,path:"/",render:function(){return Object(k.jsx)(Ne.a,{to:"/profile"})}}),Object(k.jsx)(Ne.b,{path:"/profile/:userId?",render:function(){return Object(k.jsx)(Cr,{})}}),Object(k.jsx)(Ne.b,{path:"/users",render:function(){return Object(k.jsx)(xr,{})}}),Object(k.jsx)(Ne.b,{path:"/login",render:function(){return Object(k.jsx)(Nr,{})}}),Object(k.jsx)(Ne.b,{render:function(){return Object(k.jsx)("div",{children:"404 NOT FOUND"})}})]})})})})})};i.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(yr,{})}),document.getElementById("root")),n()},29:function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return u})),r.d(t,"e",(function(){return l})),r.d(t,"d",(function(){return b})),r.d(t,"a",(function(){return d})),r.d(t,"f",(function(){return j}));var n=r(2),a={posts:[{id:1,message:"New post",likesCount:12},{id:2,message:"it is my first post",likesCount:11}],profile:null,profileStatus:""},c="SET_USER_PROFILE",s="SET_USER_PROFILE_STATUS",i="UPDATE_PHOTO_SUCCESS",o="SAVE_PROFILE",u="GET_USER_PROFILE_STATUS",l="UPDATE_USER_PROFILE_STATUS",b="UPDATE_PHOTO_REQUEST",d="GET_USER_PROFILE",j={getUserProfile:function(e){return{type:d,userId:e}},updatePhotoRequest:function(e){return{type:b,file:e}},updateUserProfileStatus:function(e){return{type:l,newStatus:e}},getUserProfileStatus:function(e){return{type:u,userId:e}},saveProfile:function(e){return{type:o,profile:e}},setUserProfile:function(e){return{type:c,profile:e}},setUserProfileStatus:function(e){return{type:s,profileStatus:e}},updatePhotoSuccess:function(e){return{type:i,profilePhoto:e}}};t.g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return Object(n.a)(Object(n.a)({},e),{},{profile:t.profile});case s:return Object(n.a)(Object(n.a)({},e),{},{profileStatus:t.profileStatus});case i:return Object(n.a)(Object(n.a)({},e),{},{profile:Object(n.a)(Object(n.a)({},e.profile),{},{photos:t.profilePhoto})});default:return e}}},31:function(e,t,r){e.exports={"login-wrapper":"login_login-wrapper__11TAs","login-form":"login_login-form__2WiNX",title:"login_title__EeJE8",field:"login_field__13fZX","form-control-field":"login_form-control-field__2QzPV","remember-checkbox":"login_remember-checkbox__3DCAV","remember-text":"login_remember-text__2YdFX","remember-block":"login_remember-block__1M0ET","login-button":"login_login-button__eexvH",_disable:"login__disable__3w4KH"}},37:function(e,t,r){e.exports={"selected-page":"pagination_selected-page__1SDfa","page-number":"pagination_page-number__DpB1o","next-botton":"pagination_next-botton__AnZ3M","previous-botton":"pagination_previous-botton__16bwp",image:"pagination_image__1tacT","bottom-space":"pagination_bottom-space__2JhVV"}},40:function(e,t,r){"use strict";r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return l}));var n=r(2),a=(r(0),r(44)),c=r.n(a),s=r(22),i=r(1),o=function(e){var t=e.error,r=e.helperText,n=e.formControlClassName,a=e.children;return Object(i.jsxs)("div",{className:Object(s.a)(c.a["form-control"],n),children:[Object(i.jsx)("div",{className:t&&c.a.error,children:a}),t&&Object(i.jsx)("span",{className:c.a["error-text"],children:r})]})},u=function(e){return Object(i.jsx)(o,Object(n.a)(Object(n.a)({},e),{},{children:Object(i.jsx)("textarea",Object(n.a)(Object(n.a)({type:e.type},e.name),{},{placeholder:e.placeholder}))}))},l=function(e){var t=e.type,r=e.name,a=e.placeholder,c=e.className;return Object(i.jsx)(o,Object(n.a)(Object(n.a)({},e),{},{children:Object(i.jsx)("input",Object(n.a)(Object(n.a)({type:t},r),{},{placeholder:a,className:c}))}))}},44:function(e,t,r){e.exports={"form-control":"forms-control_form-control__uBF8n",error:"forms-control_error__b3iDN","error-text":"forms-control_error-text__Nt_fm","form-common-error":"forms-control_form-common-error__3a4oj"}},45:function(e,t,r){e.exports={header:"header_header__2XAmd",wrapper:"header_wrapper__nTiAZ",header__title:"header_header__title__4nvRq","header__login-button":"header_header__login-button__3I4a4","header__logout-button":"header_header__logout-button__1ziO2"}},46:function(e,t,r){"use strict";r(0);var n=r(128),a=r(22),c=r.p+"static/media/oval.ac6d1de9.svg",s=r(1);t.a=function(e){return Object(s.jsx)("div",{className:Object(a.a)(e.inBlock?"in-block-preloader":"full-screen-preloader","absolute"===e.inBlock&&"absolute-preloader",e.transparent&&"transparent-preloader"),style:e.style,children:!e.disableSpinner&&Object(s.jsx)("div",{className:Object(a.a)("lds-spinner",e.inButton&&"_lds-small-spinner"),children:Object(s.jsx)(n.a,{src:c,className:Object(a.a)("lds-inner-spinner",e.spinnerIconClassName)})})})}},49:function(e,t,r){e.exports={"users-container":"users_users-container__30RKw",userPhoto:"users_userPhoto__eUAgy","search-user":"users_search-user__2LIpL","search-button":"users_search-button__1kMif"}},83:function(e,t,r){e.exports={main:"layout_main__26Go0",content:"layout_content__2Pujz"}},85:function(e,t,r){},95:function(e,t,r){"use strict";t.a=r.p+"static/media/user.f4ae82d7.png"}},[[277,1,2]]]);
//# sourceMappingURL=main.3a992b2b.chunk.js.map