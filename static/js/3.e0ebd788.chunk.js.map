{"version":3,"sources":["Components/Profile/ProfileInfo/profile-info.module.scss","Components/Profile/ProfileInfo/ProfileStatus.tsx","Components/Profile/ProfileInfo/ProfileDataForm.tsx","Components/Profile/ProfileInfo/ProfileInfo.tsx","Components/Profile/Profile.tsx","hoc/withAuthRedirect.js","Components/Profile/ProfileContainer.tsx"],"names":["module","exports","ProfileStatus","props","profileStatus","updateUserProfileStatus","isOwner","useState","editMode","setEditMode","status","setStatus","useEffect","autoFocus","onBlur","value","onChange","e","newStatus","target","onDoubleClick","React","memo","ProfileDataForm","saveProfileCallback","useForm","mode","register","handleSubmit","onSubmit","data","type","placeholder","name","ProfileInfo","profile","saveProfile","updateUserProfilePhoto","Preloader","inBlock","transparent","className","styles","info","alt","src","photos","small","profilePhoto","files","length","values","goToEditMode","description","ProfileData","onClick","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","contacts","Object","keys","map","x","contactTitle","contactValue","Contact","Profile","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","connect","to","compose","profilePage","authorizedUserId","id","getUserProfile","actions","getUserProfileStatus","updatePhotoRequest","userId","useParams","history","useHistory","push","console","error"],"mappings":"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","file":"static/js/3.e0ebd788.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header-img\":\"profile-info_header-img__1-ZB_\",\"ava-img\":\"profile-info_ava-img__3bjYi\",\"info\":\"profile-info_info__2LN_w\",\"description\":\"profile-info_description__1bMXw\",\"info-block\":\"profile-info_info-block__2VTOf\",\"edit-button\":\"profile-info_edit-button__2Q6Di\"};","import React, { ChangeEvent, useEffect, useState } from \"react\";\r\n//import styles from \"./profile-info.module.scss\";\r\n\r\ninterface IProfileStatusProps {\r\n  isOwner: boolean;\r\n  profileStatus: string;\r\n  updateUserProfileStatus: (newStatus: string) => void;\r\n}\r\n\r\nconst ProfileStatus: React.FC<IProfileStatusProps> = (props) => {\r\n  const { profileStatus, updateUserProfileStatus, isOwner } = props;\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [status, setStatus] = useState(profileStatus);\r\n\r\n  useEffect(() => {\r\n    setStatus(profileStatus);\r\n  }, [profileStatus]);\r\n\r\n  const activateEditMode = () => {\r\n    if (isOwner) {\r\n      setEditMode(true);\r\n    } else {\r\n      setEditMode(false);\r\n    }\r\n  };\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    updateUserProfileStatus(status);\r\n  };\r\n\r\n  const setStatusHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n    let newStatus = e.target.value;\r\n    setStatus(newStatus);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {editMode && (\r\n        <div>\r\n          <input\r\n            autoFocus={true}\r\n            onBlur={deactivateEditMode}\r\n            value={status}\r\n            onChange={setStatusHandler}\r\n          />\r\n        </div>\r\n      )}\r\n      {!editMode && (\r\n        <div>\r\n          <span onDoubleClick={activateEditMode}>\r\n            {profileStatus || \"Нет статуса\"}\r\n          </span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(ProfileStatus);\r\n","import { Input, Textarea } from \"../../Common/FormsControls/FormsControls\";\r\nimport { useForm, SubmitHandler } from \"react-hook-form\";\r\nimport { ContactType, ProfileType } from \"../../../types/types\";\r\n\r\ninterface IProfileDataFormProps {\r\n  saveProfileCallback: (values: ProfileType) => void;\r\n}\r\n\r\ninterface FormValues {\r\n  contacts: ContactType;\r\n  fullName: string;\r\n  aboutMe: string;\r\n  lookingForAJob: boolean;\r\n  lookingForAJobDescription: string;\r\n  photos: any;\r\n  userId: any;\r\n}\r\n\r\nconst ProfileDataForm: React.FC<IProfileDataFormProps> = (props) => {\r\n  const { saveProfileCallback } = props;\r\n  const { register, handleSubmit } = useForm<FormValues>({\r\n    mode: \"onChange\",\r\n  });\r\n\r\n  const onSubmit: SubmitHandler<FormValues> = (data) => {\r\n    saveProfileCallback(data);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)}>\r\n      <div>\r\n        <b>Full name:</b>\r\n        <Input\r\n          type=\"text\"\r\n          placeholder=\"Full name\"\r\n          name={{ ...register(\"fullName\") }}\r\n        />\r\n      </div>\r\n      <div>\r\n        <b>About me:</b>\r\n        <Textarea\r\n          type=\"text\"\r\n          placeholder=\"About me\"\r\n          name={{ ...register(\"aboutMe\") }}\r\n        />\r\n      </div>\r\n      <div>\r\n        <b>Looking for a job:</b>\r\n        <Input type=\"checkbox\" name={{ ...register(\"lookingForAJob\") }} />\r\n      </div>\r\n      <div>\r\n        <b>My professional skills:</b>\r\n        <Textarea\r\n          type=\"text\"\r\n          placeholder=\"My professional skills\"\r\n          name={{\r\n            ...register(\"lookingForAJobDescription\"),\r\n          }}\r\n        />\r\n      </div>\r\n      <div>\r\n        <b>Contacts</b>\r\n        {/*TODO: Сейчас происходит дублирование полей соц сетей. Найти решение данной проблемы*/}\r\n\r\n        {/* {Object.keys(profile.contacts).map((x) => {\r\n          return (\r\n            <div key={x}>\r\n              <b>\r\n                {x}:{\" \"}\r\n                <Input\r\n                  type=\"text\"\r\n                  name={{\r\n                    ...register(x),\r\n                  }}\r\n                  // name={`${x}`}\r\n                  placeholder={x}\r\n                />\r\n              </b>\r\n            </div>\r\n          );\r\n        })} */}\r\n\r\n        <div>\r\n          <b>\r\n            vk:{\" \"}\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"vk\"\r\n              name={{ ...register(\"contacts.vk\") }}\r\n            />\r\n          </b>\r\n        </div>\r\n        <div>\r\n          <b>\r\n            facebook:{\" \"}\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"facebook\"\r\n              name={{ ...register(\"contacts.facebook\") }}\r\n            />\r\n          </b>\r\n        </div>\r\n        <div>\r\n          <b>\r\n            website:{\" \"}\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"website\"\r\n              name={{ ...register(\"contacts.website\") }}\r\n            />\r\n          </b>\r\n        </div>\r\n        <div>\r\n          <b>\r\n            twitter:{\" \"}\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"twitter\"\r\n              name={{ ...register(\"contacts.twitter\") }}\r\n            />\r\n          </b>\r\n        </div>\r\n        <div>\r\n          <b>\r\n            instagram:{\" \"}\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"instagram\"\r\n              name={{ ...register(\"contacts.instagram\") }}\r\n            />\r\n          </b>\r\n        </div>\r\n        <div>\r\n          <b>\r\n            youtube:{\" \"}\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"youtube\"\r\n              name={{ ...register(\"contacts.youtube\") }}\r\n            />\r\n          </b>\r\n        </div>\r\n        <div>\r\n          <b>\r\n            github:{\" \"}\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"github\"\r\n              name={{ ...register(\"contacts.github\") }}\r\n            />\r\n          </b>\r\n        </div>\r\n        <div>\r\n          <b>\r\n            mainLink:{\" \"}\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"mainLink\"\r\n              name={{ ...register(\"contacts.mainLink\") }}\r\n            />\r\n          </b>\r\n        </div>\r\n      </div>\r\n      <button>save</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default ProfileDataForm;\r\n\r\n// import { reduxForm, Field } from \"redux-form\";\r\n// import { Input, Textarea } from \"../../Common/FormsControls/FormsControls\";\r\n\r\n// const ProfileDataForm = (props) => {\r\n//   const { handleSubmit } = props;\r\n//   return (\r\n//     <form onSubmit={handleSubmit}>\r\n//       <div>\r\n//         <b>Full name:</b>\r\n//         <Field name=\"fullName\" placeholder=\"Full name\" component={Input} />\r\n//       </div>\r\n//       <div>\r\n//         <b>About me:</b>\r\n//         <Field name=\"aboutMe\" placeholder=\"About me\" component={Textarea} />\r\n//       </div>\r\n//       <div>\r\n//         <b>Looking for a job:</b>\r\n//         <Field name=\"lookingForAJob\" component={Input} type=\"checkbox\" />\r\n//       </div>\r\n//       <div>\r\n//         <b>My professional skills:</b>\r\n//         <Field\r\n//           name=\"lookingForAJobDescription\"\r\n//           placeholder=\"My professional skills\"\r\n//           component={Textarea}\r\n//         />\r\n//       </div>\r\n//       <div>\r\n//         <b>Contacts</b>\r\n//         {Object.keys(props.profile.contacts).map((x) => {\r\n//           return (\r\n//             <div key={x}>\r\n//               <b>\r\n//                 {x}:{\" \"}\r\n//                 <Field\r\n//                   name={`contacts.${x}`}\r\n//                   placeholder={x}\r\n//                   component={Input}\r\n//                 />\r\n//               </b>\r\n//             </div>\r\n//           );\r\n//         })}\r\n//       </div>\r\n//       <button>save</button>\r\n//     </form>\r\n//   );\r\n// };\r\n\r\n// const ProfileDataReduxForm = reduxForm({\r\n//   form: \"EditProfileForm\",\r\n// })(ProfileDataForm);\r\n\r\n// export default ProfileDataReduxForm;\r\n","import React, { ChangeEvent, useState } from \"react\";\r\nimport Preloader from \"../../Common/Preloader/Preloader\";\r\nimport styles from \"./profile-info.module.scss\";\r\nimport ProfileStatus from \"./ProfileStatus\";\r\nimport profilePhoto from \"../../../Assets/Images/user.png\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\nimport { ContactType, ProfileType } from \"../../../types/types\";\r\n\r\ninterface IProfileInfoProps {\r\n  isOwner: boolean;\r\n  profile: ProfileType;\r\n  profileStatus: string;\r\n  saveProfile: (profile: ProfileType) => void;\r\n  updateUserProfileStatus: (newStatus: string) => void;\r\n  updateUserProfilePhoto: (file: File) => void;\r\n}\r\n\r\nconst ProfileInfo: React.FC<IProfileInfoProps> = (props) => {\r\n  const {\r\n    isOwner,\r\n    profile,\r\n    profileStatus,\r\n    saveProfile,\r\n    updateUserProfileStatus,\r\n    updateUserProfilePhoto,\r\n  } = props;\r\n  const [editMode, setEditMode] = useState(false);\r\n\r\n  if (!profile) {\r\n    return <Preloader inBlock transparent />;\r\n  }\r\n\r\n  const onMainPhotoSelected = (e: ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files?.length && e.target.files?.length !== 0)\r\n      updateUserProfilePhoto(e.target.files[0]);\r\n  };\r\n\r\n  const onSubmit = (values: ProfileType): void => {\r\n    saveProfile(values);\r\n    setEditMode(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.info}>\r\n        <div className={styles[\"info-block\"]}>\r\n          <img\r\n            alt=\"\"\r\n            className={styles[\"ava-img\"]}\r\n            src={profile?.photos?.small || profilePhoto}\r\n          />\r\n          {isOwner && <input type=\"file\" onChange={onMainPhotoSelected} />}\r\n          <br />\r\n          {editMode ? (\r\n            <ProfileDataForm saveProfileCallback={onSubmit} />\r\n          ) : (\r\n            <ProfileData\r\n              profile={profile}\r\n              isOwner={isOwner}\r\n              goToEditMode={() => {\r\n                setEditMode(true);\r\n              }}\r\n            />\r\n          )}\r\n        </div>\r\n        <div className={styles.description}>\r\n          <ProfileStatus\r\n            isOwner={isOwner}\r\n            profileStatus={profileStatus}\r\n            updateUserProfileStatus={updateUserProfileStatus}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\ninterface IProfileDataProps {\r\n  isOwner: boolean;\r\n  profile: ProfileType;\r\n  goToEditMode: () => void;\r\n}\r\n\r\nconst ProfileData: React.FC<IProfileDataProps> = (props) => {\r\n  const { isOwner, profile } = props;\r\n  return (\r\n    <>\r\n      {isOwner && (\r\n        <button className={styles[\"edit-button\"]} onClick={props.goToEditMode}>\r\n          Edit profile\r\n        </button>\r\n      )}\r\n      <div>\r\n        <b>Full name:</b> {profile?.fullName}\r\n      </div>\r\n      <div>\r\n        <b>About me:</b> {profile?.aboutMe}\r\n      </div>\r\n      <div>\r\n        <b>Looking for a job:</b> {profile?.lookingForAJob ? \"Yes\" : \"No\"}\r\n      </div>\r\n      {profile?.lookingForAJob && (\r\n        <div>\r\n          <b>My professional skills:</b> {profile?.lookingForAJobDescription}\r\n        </div>\r\n      )}\r\n      <div>\r\n        <b>Contacts</b>\r\n        {profile?.contacts\r\n          ? Object.keys(profile.contacts).map((x) => {\r\n              return (\r\n                <Contact\r\n                  key={x}\r\n                  contactTitle={x}\r\n                  contactValue={profile.contacts[x as keyof ContactType]}\r\n                />\r\n              );\r\n            })\r\n          : null}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\ninterface IContactProps {\r\n  contactTitle: string;\r\n  contactValue: string;\r\n}\r\n\r\nconst Contact: React.FC<IContactProps> = ({ contactTitle, contactValue }) => {\r\n  return (\r\n    <div>\r\n      <b>{contactTitle}:</b> {contactValue}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(ProfileInfo);\r\n","import React from \"react\";\r\nimport { ProfileType } from \"../../types/types\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\n\r\ninterface IProfileProps {\r\n  isOwner: boolean;\r\n  profile: ProfileType;\r\n  profileStatus: string;\r\n  saveProfile: (profile: ProfileType) => void;\r\n  updateUserProfileStatus: (newStatus: string) => void;\r\n  updateUserProfilePhoto: (file: File) => void;\r\n}\r\n\r\nconst Profile: React.FC<IProfileProps> = (props) => {\r\n  return (\r\n    <div>\r\n      <ProfileInfo\r\n        isOwner={props.isOwner}\r\n        profile={props.profile}\r\n        saveProfile={props.saveProfile}\r\n        profileStatus={props.profileStatus}\r\n        updateUserProfilePhoto={props.updateUserProfilePhoto}\r\n        updateUserProfileStatus={props.updateUserProfileStatus}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nconst mapStateToPropsForRedirect = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nconst withAuthRedirect = (Component) => {\r\n  let RedirectComponent = (props) => {\r\n    if (!props.isAuth) {\r\n      return <Redirect to=\"/login\" />;\r\n    }\r\n    return <Component {...props} />;\r\n  };\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(\r\n    RedirectComponent\r\n  );\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n\r\nexport default withAuthRedirect;\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { RouteComponentProps } from \"react-router\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\nimport Profile from \"./Profile\";\r\nimport { compose } from \"redux\";\r\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\r\nimport { AppStateType } from \"../../Redux/redux-store\";\r\nimport { ProfileType } from \"../../types/types\";\r\nimport { actions } from \"../../Redux/profile-reducer\";\r\n\r\ninterface IProfileContainerProps {\r\n  profile: ProfileType;\r\n  profileStatus: string;\r\n  authorizedUserId: number | null;\r\n  isAuth: boolean;\r\n  saveProfile: (profile: ProfileType) => void;\r\n  updateUserProfileStatus: (newStatus: string) => void;\r\n  updateUserProfilePhoto: (file: File) => void;\r\n  getUserProfile: (userId: number) => void;\r\n  getUserProfileStatus: (userId: number) => void;\r\n}\r\n\r\ntype PathParamsType = {\r\n  userId: string;\r\n};\r\n\r\nconst ProfileContainer: React.FC<\r\n  IProfileContainerProps & RouteComponentProps<PathParamsType>\r\n> = (props) => {\r\n  const { authorizedUserId, getUserProfile, getUserProfileStatus } = props;\r\n\r\n  const { userId } = useParams<{ userId: string }>();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    let id: number | null = +userId;\r\n    if (!id) {\r\n      id = authorizedUserId;\r\n      if (!id) {\r\n        history.push(\"/login\");\r\n      }\r\n    }\r\n    if (!id) {\r\n      console.error(\r\n        \"id should exists in URI params or in state (authorizedUserId)\"\r\n      );\r\n    } else {\r\n      getUserProfile(id);\r\n      getUserProfileStatus(id);\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [userId]);\r\n\r\n  return <Profile {...props} isOwner={!userId} />;\r\n};\r\n\r\nconst mapStateToProps = (state: AppStateType) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    profileStatus: state.profilePage.profileStatus,\r\n    authorizedUserId: state.auth.id,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\nexport default compose<React.ComponentType>(\r\n  connect(mapStateToProps, {\r\n    getUserProfile: actions.getUserProfile,\r\n    getUserProfileStatus: actions.getUserProfileStatus,\r\n    updateUserProfileStatus: actions.updateUserProfileStatus,\r\n    updateUserProfilePhoto: actions.updatePhotoRequest,\r\n    saveProfile: actions.saveProfile,\r\n  }),\r\n  withAuthRedirect\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}