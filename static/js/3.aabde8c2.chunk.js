(this["webpackJsonpsocial-media"]=this["webpackJsonpsocial-media"]||[]).push([[3],{280:function(e,t,i){e.exports={"header-img":"profile-info_header-img__1-ZB_","ava-img":"profile-info_ava-img__3bjYi",info:"profile-info_info__2LN_w",description:"profile-info_description__1bMXw","info-block":"profile-info_info-block__2VTOf","edit-button":"profile-info_edit-button__2Q6Di"}},282:function(e,t,i){"use strict";i.r(t);var c=i(2),o=i(0),s=i.n(o),n=i(10),r=i(16),a=i(25),l=i(46),j=i(280),b=i.n(j),d=i(1),u=function(e){var t=e.profileStatus,i=e.updateUserProfileStatus,c=e.isOwner,s=Object(o.useState)(!1),n=Object(a.a)(s,2),r=n[0],l=n[1],j=Object(o.useState)(t),b=Object(a.a)(j,2),u=b[0],O=b[1];Object(o.useEffect)((function(){O(t)}),[t]);return Object(d.jsxs)("div",{children:[r&&Object(d.jsx)("div",{children:Object(d.jsx)("input",{autoFocus:!0,onBlur:function(){l(!1),i(u)},value:u,onChange:function(e){var t=e.target.value;O(t)}})}),!r&&Object(d.jsx)("div",{children:Object(d.jsx)("span",{onDoubleClick:function(){l(!!c)},children:t||"\u041d\u0435\u0442 \u0441\u0442\u0430\u0442\u0443\u0441\u0430"})})]})},O=s.a.memo(u),f=i(95),h=i(40),x=i(32),p=function(e){var t=e.saveProfileCallback,i=Object(x.e)({mode:"onChange"}),o=i.register,s=i.handleSubmit;return Object(d.jsxs)("form",{onSubmit:s((function(e){t(e)})),children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Full name:"}),Object(d.jsx)(h.a,{type:"text",placeholder:"Full name",name:Object(c.a)({},o("fullName"))})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"About me:"}),Object(d.jsx)(h.b,{type:"text",placeholder:"About me",name:Object(c.a)({},o("aboutMe"))})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Looking for a job:"}),Object(d.jsx)(h.a,{type:"checkbox",name:Object(c.a)({},o("lookingForAJob"))})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"My professional skills:"}),Object(d.jsx)(h.b,{type:"text",placeholder:"My professional skills",name:Object(c.a)({},o("lookingForAJobDescription"))})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Contacts"}),Object(d.jsx)("div",{children:Object(d.jsxs)("b",{children:["vk:"," ",Object(d.jsx)(h.a,{type:"text",placeholder:"vk",name:Object(c.a)({},o("contacts.vk"))})]})}),Object(d.jsx)("div",{children:Object(d.jsxs)("b",{children:["facebook:"," ",Object(d.jsx)(h.a,{type:"text",placeholder:"facebook",name:Object(c.a)({},o("contacts.facebook"))})]})}),Object(d.jsx)("div",{children:Object(d.jsxs)("b",{children:["website:"," ",Object(d.jsx)(h.a,{type:"text",placeholder:"website",name:Object(c.a)({},o("contacts.website"))})]})}),Object(d.jsx)("div",{children:Object(d.jsxs)("b",{children:["twitter:"," ",Object(d.jsx)(h.a,{type:"text",placeholder:"twitter",name:Object(c.a)({},o("contacts.twitter"))})]})}),Object(d.jsx)("div",{children:Object(d.jsxs)("b",{children:["instagram:"," ",Object(d.jsx)(h.a,{type:"text",placeholder:"instagram",name:Object(c.a)({},o("contacts.instagram"))})]})}),Object(d.jsx)("div",{children:Object(d.jsxs)("b",{children:["youtube:"," ",Object(d.jsx)(h.a,{type:"text",placeholder:"youtube",name:Object(c.a)({},o("contacts.youtube"))})]})}),Object(d.jsx)("div",{children:Object(d.jsxs)("b",{children:["github:"," ",Object(d.jsx)(h.a,{type:"text",placeholder:"github",name:Object(c.a)({},o("contacts.github"))})]})}),Object(d.jsx)("div",{children:Object(d.jsxs)("b",{children:["mainLink:"," ",Object(d.jsx)(h.a,{type:"text",placeholder:"mainLink",name:Object(c.a)({},o("contacts.mainLink"))})]})})]}),Object(d.jsx)("button",{children:"save"})]})},v=function(e){var t,i=e.isOwner,c=e.profile,s=e.profileStatus,n=e.saveProfile,r=e.updateUserProfileStatus,j=e.updateUserProfilePhoto,u=Object(o.useState)(!1),h=Object(a.a)(u,2),x=h[0],v=h[1];if(!c)return Object(d.jsx)(l.a,{inBlock:!0,transparent:!0});return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:b.a.info,children:[Object(d.jsxs)("div",{className:b.a["info-block"],children:[Object(d.jsx)("img",{alt:"",className:b.a["ava-img"],src:(null===c||void 0===c||null===(t=c.photos)||void 0===t?void 0:t.small)||f.a}),i&&Object(d.jsx)("input",{type:"file",onChange:function(e){var t,i;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&0!==(null===(i=e.target.files)||void 0===i?void 0:i.length)&&j(e.target.files[0])}}),Object(d.jsx)("br",{}),x?Object(d.jsx)(p,{saveProfileCallback:function(e){n(e),v(!1)}}):Object(d.jsx)(m,{profile:c,isOwner:i,goToEditMode:function(){v(!0)}})]}),Object(d.jsx)("div",{className:b.a.description,children:Object(d.jsx)(O,{isOwner:i,profileStatus:s,updateUserProfileStatus:r})})]})})},m=function(e){var t=e.isOwner,i=e.profile;return Object(d.jsxs)(d.Fragment,{children:[t&&Object(d.jsx)("button",{className:b.a["edit-button"],onClick:e.goToEditMode,children:"Edit profile"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Full name:"})," ",null===i||void 0===i?void 0:i.fullName]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"About me:"})," ",null===i||void 0===i?void 0:i.aboutMe]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Looking for a job:"})," ",(null===i||void 0===i?void 0:i.lookingForAJob)?"Yes":"No"]}),(null===i||void 0===i?void 0:i.lookingForAJob)&&Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"My professional skills:"})," ",null===i||void 0===i?void 0:i.lookingForAJobDescription]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("b",{children:"Contacts"}),(null===i||void 0===i?void 0:i.contacts)?Object.keys(i.contacts).map((function(e){return Object(d.jsx)(g,{contactTitle:e,contactValue:i.contacts[e]},e)})):null]})]})},g=function(e){var t=e.contactTitle,i=e.contactValue;return Object(d.jsxs)("div",{children:[Object(d.jsxs)("b",{children:[t,":"]})," ",i]})},k=s.a.memo(v),P=function(e){return Object(d.jsx)("div",{children:Object(d.jsx)(k,{isOwner:e.isOwner,profile:e.profile,saveProfile:e.saveProfile,profileStatus:e.profileStatus,updateUserProfilePhoto:e.updateUserProfilePhoto,updateUserProfileStatus:e.updateUserProfileStatus})})},S=i(42),U=function(e){return{isAuth:e.auth.isAuth}},y=function(e){return Object(n.b)(U)((function(t){return t.isAuth?Object(d.jsx)(e,Object(c.a)({},t)):Object(d.jsx)(r.a,{to:"/login"})}))},_=i(28);t.default=Object(S.c)(Object(n.b)((function(e){return{profile:e.profilePage.profile,profileStatus:e.profilePage.profileStatus,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:_.f.getUserProfile,getUserProfileStatus:_.f.getUserProfileStatus,updateUserProfileStatus:_.f.updateUserProfileStatus,updateUserProfilePhoto:_.f.updatePhotoRequest,saveProfile:_.f.saveProfile}),y)((function(e){var t=e.authorizedUserId,i=e.getUserProfile,s=e.getUserProfileStatus,n=Object(r.h)().userId,a=Object(r.g)();return Object(o.useEffect)((function(){var e=+n;e||(e=t)||a.push("/login"),e?(i(e),s(e)):console.error("id should exists in URI params or in state (authorizedUserId)")}),[n]),Object(d.jsx)(P,Object(c.a)(Object(c.a)({},e),{},{isOwner:!n}))}))}}]);
//# sourceMappingURL=3.aabde8c2.chunk.js.map